<!DOCTYPE html>
<html>
  <head>
   <title>Angular JS 服务示例</title>
	
    <meta name="keywords" content="keyword1,keyword2,keyword3">
    <meta name="description" content="this is my page">
    <meta name="content-type" content="text/html; charset=UTF-8">
    
    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->
<script src="http://www.yiibai.com/js/angular.min.js"></script>
  </head>
  
  <body>
  	<h2>AngularJS 服务应用示例</h2>
  	
  	<div ng-app="mainApp" ng-controller="CalcController">
  	  <p>输入一个数字: <input type="number" ng-model="number" />
      <button ng-click="square()">X<sup>2</sup></button>
      <p>结果: {{result}}</p>
      <p>和: {{result1}}</p>
  	</div>
  	
  	<script>
  		var mainApp = angular.module("mainApp", []);
  		
  		//使用工厂方法，需要返回一个工厂对象
  		mainApp.factory("MathService", function() {
  			var factory = {};
  			factory.multiply = function(a,b){
  				return a*b;
  			}
  			
  			factory.add = function(a,b){
  				return a+b;
  			}
  			return factory;
  		});
  		
  		//使用服务方法,不需要新建对象
  		mainApp.service("CalcService", function(MathService) {
  			this.square = function(a){
  				return MathService.multiply(a, a);
  			}
  			this.add = function(a){
  				return MathService.add(a, a);
  			}
  		});
  		
  		mainApp.controller("CalcController", function($scope,CalcService) {
  			$scope.square = function(){
 				$scope.result = CalcService.square($scope.number);
 				$scope.result1 = CalcService.add($scope.number);
  			}
  		});
  		
  	</script>
  	
  </body>
</html>
